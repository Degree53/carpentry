"use strict";var React=require("react"),DecimalInput=React.createClass({displayName:"DecimalInput",getInitialState:function(){var e=this.props.value.toFixed(2),t=e.indexOf(".");return{index:t}},handleFocus:function(){0===parseFloat(this.props.value)&&this.props.setValue(null)},handleKeyPress:function(e){e.key.match(/\d|\.|decimal/)||e.preventDefault(),this.setState({index:e.target.value.indexOf(".")})},handlePaste:function(e){e.preventDefault()},handleChange:function(e){var t=e.target.value,a=t.indexOf(".");a!==t.lastIndexOf(".")&&(t=a<this.state.index?t.replace(/^(\d*\.\d*)(\.)(\d*)$/,"$1$3"):t.replace(/^(\d*)(\.)(\d*\.\d*)$/,"$1$3")),t=t.replace(/^(\d*\.\d{2})\d+$/,"$1"),this.props.setValue(t)},handleBlur:function(e){var t=e.target.value.replace(/^([^\.]*)$/,"$1.").replace(/^(\.\d*)$/,"0$1").replace(/^0+(\d+\.?\d*)$/,"$1").replace(/^(\d*\.)$/,"$10").replace(/^(\d*\.\d)$/,"$10");this.props.setValue(t)},render:function(){return React.createElement("input",{className:"DecimalInput",type:"text",value:this.props.value,disabled:this.props.disabled,onFocus:this.handleFocus,onKeyPress:this.handleKeyPress,onPaste:this.handlePaste,onChange:this.handleChange,onBlur:this.handleBlur})}});module.exports=DecimalInput;